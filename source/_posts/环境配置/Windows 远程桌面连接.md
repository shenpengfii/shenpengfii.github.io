---
title: 偷本非礼 | Windows 远程桌面连接教程
subtitle: OpenFrp 内网穿透 + Windows 远程桌面服务，实现低延迟远程桌面控制
date: 2024-07-28 22:16:32
categories:
  - 环境配置
tags:
  - OpenFrp
  - 内网穿透
  - 远程桌面
  - Windows
cover: https://tvax2.sinaimg.cn/large/008kS6srly1hss61dg8b1j318g0tnk3e.jpg
banner: https://tvax2.sinaimg.cn/large/008kS6srly1hss61dg8b1j318g0tnk3e.jpg
poster:
  headline: Windows 远程桌面连接教程
  caption: OpenFrp 内网穿透 + Windows 远程桌面服务，实现低延迟远程桌面控制
references:
  - "[Microsoft,如何使用远程桌面](https://support.microsoft.com/zh-cn/windows/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2-5fe128d5-8fb1-7a23-3b8a-41e636865e8c#ID0EDD=Windows_11)"
  - "[鼎芯码元,体验Windows自带远程桌面 局域网&外网,2022-10-31](https://zhuanlan.zhihu.com/p/578914183)"
  - "[阿土的炼丹炉,最好用的远程工具：Microsoft remote desktop使用说明,2022-10-23](https://zhuanlan.zhihu.com/p/576313307)"
---
## 介绍

{% folders %}

<!-- folder 什么是“远程桌面连接”？ -->
“远程桌面连接”是微软为旗下 Windows 系统开发的一款远程桌面客户端。只需要知道目标 Windows 桌面的网络地址、登录用户名和密码，就能无缝远程操作目标系统了。

这款软件被内置于 Windows 系统中，使用时无需安装，也不收取任何费用，其实际体验甚至超过了不少付费软件。打开系统搜索栏，输入“远程桌面连接”就可以找到这款软件了。

对于其他操作系统的用户而言，你也可以使用其他客户端软件，比如 Android 系统可以使用免费的 RD Client 软件。

<!-- folder 什么是 Windows 远程桌面服务？ -->
Windows 远程桌面服务是 Windows 系统内置的远程桌面服务软件，该服务在系统中是默认关闭的。打开后，其他计算机上的客户端就能通过该服务远程操纵本机桌面。

与 QQ 自带的远程桌面共享使用的协议作比较，Windows 远程桌面服务使用的传输协议所用流量开销更小、传输延迟更低。更重要的是，该协议可以自动将传输画面适配为远程访问的显示屏尺寸，让远程用户也能自由享受无黑框全屏体验。

另外，Windows 远程桌面服务使用的是瘦客户端机制。这意味着画面的渲染是在被访问的主机上完成的，这极大地减小了外部主机的访问开销，甚至是一部手机也能流畅的访问操纵远程桌面。

不过，这也并非意味着 Windows 远程桌面服务就不存在任何短板。对于普通用户来说，该服务软件最大的缺点便是它仅支持同一局域网中的其他主机远程访问本机，而无法满足公网环境下的远程办公需求。

<!-- folder 什么是内网穿透？ -->
内网穿透，也称作端口穿透，顾名思义就是将原本只能在局域网中访问的某个主机端口号映射到公网环境中——即“穿透”到了内网中的主机端口上。这实际上是通过一台架设在公网环境中、并且对内网主机具有访问权限的特殊反向代理服务器实现的。任何对公网端口的操作都会被映射到内网中的物理端口上。

在公网环境中访问该端口时，外部主机不需要关心如何访问其所在的局域网，只需要直接访问被反向代理服务器映射到公网环境中的端口即可。

内网穿透技术的实际用处有很多。我们不仅可以直接通过它来支持远程办公，也可以在一些仅支持局域网联机的游戏中和其他玩家公网联机。

{% endfolders %}

上述内容提到：Windows 远程桌面服务不支持公网中的其他主机访问本机。不过，内网穿透技术却能很好地弥补这一缺点。

实际上，Windows 远程桌面传输协议开放了本机的 3389 端口，只要局域网中的其他主机客户端访问这个本机端口就能开始远程桌面控制了。

而内网穿透技术又恰好可以将这个 3389 端口映射到公网中，这样一来，只需在被访问的主机上部署一款合适的内网穿透产品，我们就能在公网中实现远程桌面控制、无忧远程办公了。

这里我推荐使用 OpenFrp。

{% folding color:green OpenFrp：一款可白嫖、简单易用的内网穿透产品 %}

OpenFrp 是一款由 ZGIT Network 运营的内网穿透产品，提供了丰富的服务器节点以满足不同地区用户的多种需求。

这款软件不仅安装配置简单，并且每天都可以签到领取 1-2G 左右的免费流量，对于个人远程办公而言是最好不过的选择了。

{% endfolding %}

## 使用 OpenFrp 在远程主机上部署内网穿透

为了实现远程访问某台主机，你需要先在这个在被访问的远程主机上部署内网穿透。

{% timeline color:white %}

<!-- node 第一步：安装 OpenFrp -->
进入 [OpenFrp 官网下载页面](https://console.openfrp.net/download)，安装 Windows 版 OpenFrp Launcher。

{% link https://console.openfrp.net/download OpenFrp 官网下载页面 %}

<!-- node 第二步：配置节点映射 -->
打开 OpenFrp Launcher，在首页中注册一个新用户，点击签到领取免费流量。

再点击左侧菜单栏中的“创建隧道”，选择一个非 SVIP 隧道开始配置节点映射。

这里类型选择 UDP 以降低传输延迟，本地端口输入 3389，本地链接输入你的远程主机 IP 地址。其余内容使用软件生成的随机值即可。

{% folding color:blue 如何查看计算机的 IP 地址？ %}

进入命令行界面，输入 ipconfig 命令，根据你的网络类型查阅 IP 即可。

如有其他问题，可在浏览器中搜索“如何查看本机 IP 地址”，学习相关内容后再继续。

{% endfolding %}

<!-- node 第三步：开启隧道 -->
配置完成后，你可以在“隧道”页面中，查看到刚刚创建的隧道。

打开这个隧道后，复制并保存软件生成的节点映射链接。其他主机现在可以通过这个链接来远程访问这台主机了。

<!-- node 第四步：查看登录用户名和密码 -->
得到远程主机端口的公网映射链接后，我们还需要获取登录用户名和密码才能连接到这个远程主机。

对于多数个人 PC 来说，每台计算机只有一个本地 Administrator 用户，并且这个用户默认不设密码。当我们需要访问这个 PC 时，直接使用这个用户即可。

现在，我们还需要知道远程计算机的名称，这个名称一般格式为 XXXXXXX-XXXXXXX，当然也可以自定义为其他名称。

右键“此电脑”，选择属性。随后，请你查看某个叫做“设备名称”或“计算机名”的条目，将它也保存起来，现在你就已经得到了远程桌面的登录名和密码了：

| 用户名                           | 密码  |
| ----------------------------- | --- |
| XXXXXXX-XXXXXXX\Administrator |     |

注意，这里的用户名实际上是用计算机名和 Administrator 拼接得到的，中间要用一个 `\` 符号隔开；而密码为空，意味着在登录时你不需要填写任何内容。

{% note 注意 如果你还注册了某个与邮件绑定的联网登录用户，也可以使用该账户登录。此时，用户名为你的你的微软账户邮箱，即 xxx@outlook.com；密码则为邮箱密码。 color:blue %}

{% endtimeline %}

## 开启远程主机中的远程桌面服务

在被访问的远程主机中搜索“远程桌面设置”，打开“远程桌面”的开关。

这时，其他主机就能使用客户端软件远程操纵这台主机的桌面。

## 尝试远程桌面连接


{% timeline color:white %}

<!-- node 第一步：打开客户端 -->
在其他 Windows 计算机中，打开系统搜索栏搜索“远程桌面连接”。

<!-- node 第二步：访问远程服务端口 -->
打开“远程桌面连接”后，在计算机一栏输入之前保存好的隧道链接，点击连接。

<!-- node 第三步：登录远程桌面 -->
在弹出的登录框中输入你之前得到的用户名，密码栏留空，随后点击登录。

接下来的弹出框点击确定，接着就能开始操作远程主机桌面了。

{% endtimeline %}

恭喜你：现在你已经成功访问了这台远程主机的桌面！
